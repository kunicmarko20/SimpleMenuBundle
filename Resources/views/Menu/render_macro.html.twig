{% macro render(items, level, depth = 1) %}
    {% import _self as menu %}

    <ul class="simple-menu-level-{{ depth }}">
        {% for item in items %}
            <li>
                <a href="{{ item.path }}">
                    {{- item.title -}}
                </a>
                {% if item.__children and level > depth %}
                    {{ menu.render(item.__children, level, depth + 1) }}
                {% endif %}
            </li>
        {% endfor %}
    </ul>
{% endmacro %}
